<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Галерея</title>
    <link rel="stylesheet" type="text/css" href = "/static/css/style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo">
                <img src="/static/img/logo.png">
            </div>
            <ul class="menu">
                <li><a href="/">Главная</a></li>
                <li><a href="/catalog/">Каталог</a></li>
                <li><a href="/gallery/">Галерея</a></li>
                <li><a href="/cart/">Корзина</a></li>
                <li><a href="/contacts/">Контакты</a></li>
            </ul>
        </div>

        <hr>
        <h1>Галерея</h1>
        <hr>
        
        <div class="gallery">
            <img id="image>table_orion" src="/static/img/gallery/small/table_orion_small.jpg">
            <img id="image>table_orion_2" src="/static/img/gallery/small/table_orion_2_small.jpg">
            <img id="image>table_3" src="/static/img/gallery/small/table_3_small.jpg">
        </div>
        <div id="big_picture"></div>

        <div class="footer">
            <hr>
            <p> Все права защищены &copy;&nbsp;2020 </p>
        </div>
    </div>

	<script>

        function changeBigPicture(eventObj){
            var appDiv = document.getElementById("big_picture");
            appDiv.innerHTML = "";
            var eventElement = eventObj.target;
            var imageNameParts = eventElement.id.split(">");
            var src = "/static/img/gallery/big/" + imageNameParts[1] + "_big.jpg" ;
            var imageDomElement = document.createElement("img");
            imageDomElement.style.width = "50%";
            imageDomElement.src = src;
            // проверка наличия картинки по указанному в src адресу
            imageDomElement.onerror = function(){alert('фото большего размера не найдено')};
            appDiv.appendChild(imageDomElement);
        }

        function init (){
            var images = document.querySelectorAll('div.gallery > img');
            for (var i=0; i<images.length; i++){
                images[i].onclick = changeBigPicture;                
            }
            // При запуске покажем по умолчанию первую картинку
            images[0].click();
        }

        window.onload = init;

    </script>

</body>
</html>
